/**
 * @namespace   Skii
 * @version     0.1
 *
 * @author      Charles Demers
 */

var Skii={KeyCodes:{ALT:18,ARROW_DOWN:40,ARROW_LEFT:37,ARROW_RIGHT:39,ARROW_UP:38,BACK_SPACE:8,CAPS_LOCK:20,CTRL:17,DELETE:46,ENTER:13,ESCAPE:27,PAGE_DOWN:34,PAGE_UP:33,SHIFT:16,SPACE:32,TAB:9},typeOf:function(b){if(b===undefined){return"undefined";}if(b===null){return"null";}var a=Object.prototype.toString.call(b);if(a=="[object Array]"){return"array";}if(a=="[object Date]"){return"date";}if(a=="[object RegExp]"){return"regexp";}if(typeof b=="number"&&!isFinite(b)){return"nan";}if(b.callee){return"arguments";}if(b.item){return"collection";}if(b.nodeName){switch(b.nodeType){case 1:return"element";case 3:return(/\S/).test(b.nodeValue)?"textnode":"whitespace";}}return(typeof b);},Object:{get:function(c,e){var b=null;if(c){if(e.indexOf(".")!=-1||e.indexOf("[")!=-1){var f=e.match(/[^.\[\]]+/gi);b=c;for(var d=0,a=f.length;d<a;d++){if(f[d] in b){b=b[f[d]];}else{return null;}}}else{b=c[e];}}return b;},merge:function(c,b){for(var a in b){if(c.hasOwnProperty(a)===false){c[a]=b[a];}}return c;}},Array:{sortNumerical:function(a){return a.sort(function(d,c){return d-c;});}},String:{padLeft:function(c,b,a){a=a||"0";c=String(c);while(c.length<b){c=a+c;}return c;}}};(function(c){var b=["undefined","null","array","date","regexp","nan","number","arguments","collection","element","textnode","whitespace","string","object","boolean"];for(var a=b.length;a--;){c["is"+b[a].charAt(0).toUpperCase()+b[a].slice(1)]=(function(d){return function(e){return(c.typeOf(e)==b[d]);};})(a);}}(Skii));if(!Object.keys){Object.keys=function(c){if(c!==Object(c)){throw new TypeError("Object.keys called on non-object");}var a=[];for(var b in c){if(c.hasOwnProperty(b)){a.push(b);}}return a;};}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c){if(this===void 0||this===null){throw new TypeError();}var d=Object(this);var a=d.length>>>0;if(a===0){return -1;}var e=0;if(arguments.length>0){e=Number(arguments[1]);if(e!==e){e=0;}else{if(e!==0&&e!==(1/0)&&e!==-(1/0)){e=(e>0||-1)*Math.floor(Math.abs(e));}}}if(e>=a){return -1;}var b=(e>=0)?e:Math.max(a-Math.abs(e),0);for(;b<a;b++){if(b in d&&d[b]===c){return b;}}return -1;};}if(!Array.prototype.lastIndexOf){Array.prototype.lastIndexOf=function(c){if(this===void 0||this===null){throw new TypeError();}var d=Object(this);var a=d.length>>>0;if(a===0){return -1;}var e=a;if(arguments.length>1){e=Number(arguments[1]);if(e!==e){e=0;}else{if(e!==0&&e!==(1/0)&&e!==-(1/0)){e=(e>0||-1)*Math.floor(Math.abs(e));}}}var b=(e>=0)?Math.min(e,a-1):a-Math.abs(e);for(;b>=0;b--){if(b in d&&d[b]===c){return b;}}return -1;};}if(!Array.prototype.filter){Array.prototype.filter=function(b){if(this===void 0||this===null){throw new TypeError();}var f=Object(this);var a=f.length>>>0;if(typeof b!=="function"){throw new TypeError();}var e=[];var d=arguments[1];for(var c=0;c<a;c++){if(c in f){var g=f[c];if(b.call(d,g,c,f)){e.push(g);}}}return e;};}if(!Array.prototype.forEach){Array.prototype.forEach=function(b){if(this===void 0||this===null){throw new TypeError();}var e=Object(this);var a=e.length>>>0;if(typeof b!=="function"){throw new TypeError();}var d=arguments[1];for(var c=0;c<a;c++){if(c in e){b.call(d,e[c],c,e);}}};}if(!Array.prototype.every){Array.prototype.every=function(b){if(this===void 0||this===null){throw new TypeError();}var e=Object(this);var a=e.length>>>0;if(typeof b!=="function"){throw new TypeError();}var d=arguments[1];for(var c=0;c<a;c++){if(c in e&&!b.call(d,e[c],c,e)){return false;}}return true;};}if(!Array.prototype.map){Array.prototype.map=function(b){if(this===void 0||this===null){throw new TypeError();}var f=Object(this);var a=f.length>>>0;if(typeof b!=="function"){throw new TypeError();}var e=new Array(a);var d=arguments[1];for(var c=0;c<a;c++){if(c in f){e[c]=b.call(d,f[c],c,f);}}return e;};}if(!Array.prototype.some){Array.prototype.some=function(b){if(this===void 0||this===null){throw new TypeError();}var e=Object(this);var a=e.length>>>0;if(typeof b!=="function"){throw new TypeError();}var d=arguments[1];for(var c=0;c<a;c++){if(c in e&&b.call(d,e[c],c,e)){return true;}}return false;};}if(!Array.prototype.reduce){Array.prototype.reduce=function reduce(d){var b,a=this.length,c;if(typeof d!=="function"){throw new TypeError("First argument is not callable");}if((a==0||a===null)&&(arguments.length<=1)){throw new TypeError("Array length is 0 and no second argument");}if(arguments.length<=1){for(b=0;b=a;){throw new TypeError("Empty array and no second argument");}c=this[b++];}else{c=arguments[1];}for(b=b||0;b<a;b++){if(b in this){c=d.call(undefined,c,this[b],b,this);}}return c;};}if(!Array.prototype.reduceRight){Array.prototype.reduceRight=function(b){if(this===void 0||this===null){throw new TypeError();}var e=Object(this);var a=e.length>>>0;if(typeof b!=="function"){throw new TypeError();}if(a===0&&arguments.length===1){throw new TypeError();}var d=a-1;var c;if(arguments.length>=2){c=arguments[1];}else{do{if(d in this){c=this[d--];break;}if(--d<0){throw new TypeError();}}while(true);}while(d>=0){if(d in e){c=b.call(undefined,c,e[d],d,e);}d--;}return c;};}if(!Function.prototype.bind){Function.prototype.bind=function(d){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");}var e=[].slice,b=e.call(arguments,1),a=this,f=function(){},c=function(){return a.apply((this instanceof f?this:(d||{})),b.concat(e.call(arguments)));};c.prototype=this.prototype;return c;};}if(!String.prototype.trim){String.prototype.trim=(function(){var a=/^\s\s*/,b=/\s\s*$/;return function(){return this.replace(a,"").replace(b,"");};})();}